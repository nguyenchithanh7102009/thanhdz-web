<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·ªè ƒêen | T√†i X·ªâu</title>
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
    <style>
        /* CSS D·ª∞A TR√äN game-dice.html C≈® V√Ä T·ªêI ∆ØU */
        
        body {
            background-color: #0d1117; 
            padding-bottom: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* HEADER (Lo·∫°i b·ªè S·∫£nh) */
        .game-header {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #161b22;
            border-bottom: 1px solid #2d3840;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .game-header .back-arrow {
            color: #e6edf3;
            font-size: 1.5rem;
            margin-right: 20px;
            cursor: pointer;
        }
        .game-header h2 {
            margin: 0;
            font-size: 18px;
            color: #FFD700;
            font-weight: 600;
            flex-grow: 1;
            text-align: center;
            /* CƒÉn gi·ªØa tuy·ªát ƒë·ªëi */
            transform: translateX(-15px); 
        }
        .game-header #history-btn {
             background-color: #3d495a;
             color: #e6edf3;
             padding: 8px 12px;
             border: none;
             border-radius: 6px;
             font-weight: bold;
             cursor: pointer;
             transition: transform 0.1s;
        }
        .game-header #history-btn:hover {
             transform: translateY(-1px);
        }

        .game-container {
            padding: 15px;
            flex-grow: 1;
        }

        /* --- S·ª¨A C·∫§U TR√öC: TIMER & DICE --- */
        .top-info-area {
            background: linear-gradient(145deg, #161b22, #0d1117);
            padding: 20px 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            border: 1px solid #2d3840;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        
        .session-timer-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        #game-status {
            font-size: 1.2rem;
            font-weight: 600;
            color: #b0c2d4;
        }
        #current-session-id {
            color: #FFD700;
        }
        #countdown-timer {
            font-size: 2.5rem; /* Nh·ªè h∆°n ƒë·ªÉ v·ª´a v·ªõi tr·∫°ng th√°i */
            font-weight: 900;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            letter-spacing: 1px;
        }

        /* X√öC X·∫ÆC V√Ä K·∫æT QU·∫¢ */
        .dice-result-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        .dice-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            min-height: 80px;
        }
        .dice {
            width: 50px;
            height: 50px;
            background-color: #4a4a7a;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8em;
            font-weight: bold;
            color: #ffffff;
            border: 2px solid #6a6ad0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.5s ease;
        }
        .dice.rolling {
            /* Hi·ªáu ·ª©ng l·∫Øc s·∫Ω ƒë∆∞·ª£c th√™m trong JS */
            background-color: #ff9800; 
        }
        
        #result-summary {
             font-size: 1.5rem;
             font-weight: bold;
             color: #90ee90;
             min-height: 1.5em;
        }
        /* Chi ti·∫øt k·∫øt qu·∫£ (ƒê·ªè/ƒêen/T√†i/X·ªâu) */
        .result-tags {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            font-size: 1em;
            font-weight: 600;
        }
        .result-tag {
            padding: 5px 10px;
            border-radius: 5px;
            background-color: #3d495a;
        }

        /* --- KHU V·ª∞C ƒê·∫∂T C∆Ø·ª¢C --- */
        .betting-area {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .bet-option {
            padding: 25px 10px;
            border-radius: 12px;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            border: 3px solid transparent;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            text-align: center;
        }
        .bet-option:hover:not(.disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.6);
        }
        .bet-option.selected {
            border-color: #FFD700;
            transform: scale(1.02);
        }
        /* M√†u s·∫Øc T√ÄI/X·ªàU */
        #btn-tai { background: linear-gradient(145deg, #FF6347, #DC143C); } 
        #btn-xiu { background: linear-gradient(145deg, #50C878, #2E8B57); } 
        .bet-option.disabled { opacity: 0.5; cursor: not-allowed; }

        /* KHU V·ª∞C L·ªäCH S·ª¨ C·∫¶U M·ªöI */
        .history-section {
            background-color: #1e1e3e;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid #3a3a6a;
        }
        .history-section h3 {
             color: #FFD700;
             margin-top: 0;
             margin-bottom: 10px;
             font-size: 1.2rem;
             text-align: center;
        }
        .history-grid {
            display: flex;
            overflow-x: auto;
            gap: 5px;
            padding-bottom: 5px;
        }
        .history-item {
            min-width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }
        /* M√†u s·∫Øc cho L·ªãch s·ª≠ C·∫ßu */
        .history-item.L·ªõn { background-color: #FF6347; }
        .history-item.Nh·ªè { background-color: #50C878; }
        .history-item.L·∫ª { background-color: #ff9800; }
        .history-item.Ch·∫µn { background-color: #2196F3; }
    </style>
</head>
<body>
    
    <div class="game-header">
        <i class="fas fa-arrow-left back-arrow" onclick="window.history.back()"></i>
        <h2>T√ÄI X·ªàU üé≤</h2>
        <button id="history-btn" onclick="alert('M·ªü L·ªãch s·ª≠ c∆∞·ª£c')">L·ªäCH S·ª¨</button>
    </div>

    <div class="game-container">
        
        <div class="wallet-action-bar" style="display:none;">
            <div>
                S·ªë d∆∞: <span id="current-balance-display">0.00</span> USDT
            </div>
        </div>

        <div class="top-info-area">
            <div class="session-timer-bar">
                <div id="game-status">M·ªû C∆Ø·ª¢C (Phi√™n: <span id="current-session-id">#...</span>)</div>
                <div id="countdown-timer">50</div>
            </div>

            <div class="dice-result-area">
                <div class="dice-container" id="dice-container">
                    <div class="dice" id="dice-1">?</div>
                    <div class="dice" id="dice-2">?</div>
                    <div class="dice" id="dice-3">?</div>
                </div>
                <div id="result-summary">S·∫µn s√†ng ƒë·∫∑t c∆∞·ª£c...</div>
                <div class="result-tags" id="result-tags">
                    </div>
            </div>
        </div>

        <div class="betting-area">
            <div id="btn-tai" class="bet-option" data-type="tai">T√ÄI (L·ªöN)</div>
            <div id="btn-xiu" class="bet-option" data-type="xiu">X·ªàU (NH·ªé)</div>
        </div>
        
        <div class="quick-bet-grid">
            <button data-amount="1000">1K</button>
            <button data-amount="10000">10K</button>
            <button data-amount="50000">50K</button>
            <button data-amount="100000">100K</button>
            <button data-amount="500000">500K</button>
            <button data-amount="1000000">1M</button>
            <button id="btn-all-in">ALL IN</button>
        </div>

        <div id="bet-info-staged">Ch·ªçn c·ª≠a & m·ª©c c∆∞·ª£c</div>
        <button id="btn-confirm-bet" disabled>ƒê·∫∂T C∆Ø·ª¢C</button>
        <div id="bet-message">Ch·ªçn c·ª≠a & m·ª©c c∆∞·ª£c!</div>


        <div class="history-section">
            <h3>L·ªãch s·ª≠ C·∫ßu (50 phi√™n g·∫ßn nh·∫•t)</h3>
            <div class="history-grid" id="history-grid">
                </div>
        </div>

    </div>
    
    <script src="game-dice-logic.js"></script>
</body>
</html>